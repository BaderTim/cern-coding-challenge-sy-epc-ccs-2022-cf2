(function(){"use strict";var e={5787:function(e,r,t){var o=t(9242),n=t(65),i=t(3396),a=t(4870);const s=["src"];var u={setup(e){const r=(0,n.oR)(),t=["music.mp3"],o=0;t.forEach((e=>{r.commit("Audio/addAudioFile",e)}));const u=e=>{r.commit("Audio/setActiveAudioById",e)};let l=(0,a.iH)(r.getters["Audio/getActiveAudioIndex"]);(0,i.YP)((()=>r.getters["Audio/getActiveAudioIndex"]),(e=>{l.value=e}));let d=(0,a.iH)(r.getters["Audio/getActiveAudio"]);(0,i.YP)((()=>r.getters["Audio/getActiveAudio"]),(e=>{d.value=e}));const c=()=>{u(o)},g=()=>{r.commit("Audio/play")},v=()=>{r.commit("Audio/pause")},m=e=>{const t=new(window.AudioContext||window.webkitAudioContext),o=t.createMediaElementSource(e.target),n=t.createAnalyser();n.fftSize=256,o.connect(n),n.connect(t.destination),r.commit("Audio/setAnalyserNode",n)};return(e,r)=>((0,i.wg)(),(0,i.iD)("div",null,[-1==(0,a.SU)(l)?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-primary mt-2",onClick:c},"start ")):((0,i.wg)(),(0,i.iD)("audio",{key:1,src:"music/"+(0,a.SU)(d),onLoadeddata:m,onPlay:g,onPause:v,id:"audio-player",controls:""},"Your browser does not support the audio element. Try using the latest version of Google Chrome or Firefox. ",40,s))]))}};const l=u;var d=l,c=(t(8675),t(3462),t(7139));const g={class:"visualizer border border-dark m-auto rounded mt-3"},v=["id"];var m={setup(e){(0,o.sj)((e=>({d52f9de6:y,"04621280":h,"640ae252":w})));const r=(0,n.oR)(),t={width:400,height:400},s=40,u=1e3/s;let l=(0,a.iH)(0),d=(0,a.iH)(0),m=(0,a.iH)(null),p=(0,a.iH)(null),f=(0,a.iH)(!0),A=(0,a.iH)(0);const y=t.width+"px",h=t.height+"px",w=`linear-gradient(\n        180deg, \n        rgba(24,234,16,1) 0px, \n        rgba(251,240,21,1) ${Math.round(1/4*t.height)}px,\n        rgba(255,72,0,1) ${Math.round(3/4*t.height)}px\n        )`,b=()=>{m.value=r.getters["Audio/getAnalyserNode"],m.value.fftSize=256;const e=m.value.frequencyBinCount;p.value=new Uint8Array(e);const o=Math.round(e/2.5);d.value=t.width/o,l.value=o,f.value=!1,A.value=window.performance.now(),I()},x=()=>{l.value=0,d.value=0,f.value=!0},I=e=>{if(f.value)return m.value=null,void(p.value=null);window.requestAnimationFrame(I);const r=e-A.value;if(r>u){A.value=e-r%u,m.value.getByteFrequencyData(p.value);for(let e=0;e<l.value;e++){const r=t.height*p.value[e]/255;k(e+1,r)}}},k=(e,r)=>{document.getElementById("spectrumBar-"+e).style.height=r+"px"};return(0,i.YP)((()=>r.getters["Audio/isPlaying"]),(e=>{e?b():x()})),(e,r)=>((0,i.wg)(),(0,i.iD)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(l),(e=>((0,i.wg)(),(0,i.iD)("div",{key:e,id:"spectrumBar-"+e,style:(0,c.j5)({width:(0,a.SU)(d)+"px"}),class:"spectrum-bar"},null,12,v)))),128))]))}},p=t(89);const f=(0,p.Z)(m,[["__scopeId","data-v-0cba5540"]]);var A=f;const y={class:"alert-heading"},h={key:0},w={key:1,class:"mb-0"};var b={props:["error","errorNumber"],setup(e){const r=e;let t="Error",o="alert-danger";return r.error.type&&"Warning"==r.error.type&&(t="Warning",o="alert-warning"),(r,n)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,c.C_)(["alert mb-4 text-left",(0,a.SU)(o)]),role:"alert"},[(0,i._)("span",null,"INTERRUPTION #"+(0,c.zw)(e.errorNumber)+" - "+(0,c.zw)((0,a.SU)(t)),1),(0,i._)("h4",y,(0,c.zw)(e.error.title),1),(0,i._)("p",null,(0,c.zw)(e.error.message),1),e.error.subMessage?((0,i.wg)(),(0,i.iD)("hr",h)):(0,i.kq)("",!0),e.error.subMessage?((0,i.wg)(),(0,i.iD)("p",w,(0,c.zw)(e.error.subMessage),1)):(0,i.kq)("",!0)],2))}};const x=b;var I=x;const k={class:"container mt-5"},E={key:0,class:"text-center"},F=(0,i._)("h1",null,"Visualizer",-1);var O={setup(e){const r=(0,n.oR)().getters["Error/getErrors"];return(e,t)=>((0,i.wg)(),(0,i.iD)("div",k,[0==(0,a.SU)(r).length?((0,i.wg)(),(0,i.iD)("div",E,[F,(0,i.Wm)(d),(0,i.Wm)(A)])):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)((0,a.SU)(r),(e=>((0,i.wg)(),(0,i.j4)(I,{key:e.title,error:e,errorNumber:(0,a.SU)(r).indexOf(e)+1},null,8,["error","errorNumber"])))),128))]))}};const N=O;var D=N;const S=()=>({audioFiles:[],activeAudioIndex:-1,analyserNode:null,playing:!1}),H={getAudioFiles:e=>e.audioFiles,getSingleAudioById:e=>r=>e.audioFiles[r],getActiveAudio:e=>e.audioFiles[e.activeAudioIndex],getActiveAudioIndex:e=>e.activeAudioIndex,getAnalyserNode:e=>e.analyserNode,isPlaying:e=>e.playing},j={addAudioFile(e,r){e.audioFiles.push(r)},removeAudioFileById(e,r){e.audioFiles.splice(r,1),e.activeAudioIndex===r?e.activeAudioIndex=-1:e.activeAudioIndex>r&&e.activeAudioIndex--},setActiveAudioById(e,r){e.activeAudioIndex=r},setActiveAudioByName(e,r){e.activeAudioIndex=e.audioFiles.indexOf(r)},setAnalyserNode(e,r){e.analyserNode=r},play(e){e.playing=!0},pause(e){e.playing=!1}};var M={state:S,getters:H,mutations:j,namespaced:!0};const P=()=>({errors:[]}),U={getErrors:e=>e.errors},B={addError:(e,r)=>{if(r&&r.title&&r.message)return console.error(r),void e.errors.push(r);const t={title:"Invalid Error/Warning Object",message:"Error object must have a title and message attribute.",subMessage:"Please contact a system administrator."};console.error(t),e.errors.push(t)},clearErrors:e=>e.errors=[]};var z={state:P,getters:U,mutations:B,namespaced:!0};const _=(0,o.ri)(D).use((0,n.MT)({modules:{Audio:M,Error:z}}));_.config.errorHandler=(e,r,t)=>{console.error(e,t),(0,n.oR)().commit("Error/addError",{title:e.message,message:e.stack,subMessage:`@ ${t}`})},_.config.warnHandler=(e,r,t)=>{console.warn(e,t),(0,n.oR)().commit("Error/addError",{title:e,message:t,type:"Warning"})},_.mount("#app")}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(r,o,n,i){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],i=e[d][2];for(var s=!0,u=0;u<o.length;u++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[u])}))?o.splice(u--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var l=n();void 0!==l&&(r=l)}}return r}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var n,i,a=o[0],s=o[1],u=o[2],l=0;if(a.some((function(r){return 0!==e[r]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(u)var d=u(t)}for(r&&r(o);l<a.length;l++)i=a[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},o=self["webpackChunkchallenge"]=self["webpackChunkchallenge"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5787)}));o=t.O(o)})();
//# sourceMappingURL=app.0adfe57d.js.map